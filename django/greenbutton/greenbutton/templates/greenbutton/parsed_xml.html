{% if context.parsed_xml.method == "app_info" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<h6>Published: {{ context.parsed_xml.published }}</h6>
<h6>Updated: {{ context.parsed_xml.updated }}</h6>
<br>
{% for entry in context.parsed_xml.entries %}
<h4 class="m-x-1">{{ entry.title }}</h4>
<h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
<table class="data_table">
    {% for entrykey, entryval in entry.items %}
    {% if entry != "uuid" and entry != "title" %}
        <tr><td>{{ entrykey }}</td><td>{{ entryval }}</td></tr>
    {% endif %}
    {% endfor %}
</table><br>
{% endfor %}

{% elif context.parsed_xml.method == "app_info_by_id" %}

<h3 class="text-xs-center">{{ context.parsed_xml.entry.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.entry.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.entry.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.entry.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "method" and rootkey != "links" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
</table>

{% elif context.parsed_xml.method == "auth" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<h5>Published: {{ context.parsed_xml.published }}</h5>
<h5>Updated: {{ context.parsed_xml.updated }}</h5>
<hr>
{% for entry in context.parsed_xml.entries %}
    <h5 class="text-xs-center">UUID: {{ entry.uuid }}</h5>
    <br>
    <h6>Links:</h6>
    <ul>
        {% for link in entry.links %}
        <li>{{ link }}</li>
        {% endfor %}
    </ul>
    <br>
    <h6>Published: {{ entry.published }}</h6>
    <h6>Updated: {{ entry.updated }}</h6>
    <br>
    <table class="data_table">
        <tr><td>Authorized Period</td><td>{{ entry.content.authorizedPeriod.duration }}</td><td>{{ entry.content.authorizedPeriod.start }}</td></tr>
        <tr><td>Published Period</td><td>{{ entry.content.publishedPeriod.duration }}</td><td>{{ entry.content.publishedPeriod.start }}</td></tr>
        {% for content in entry.content %}
            {% for contentkey, contentval in content.items %}
            {% if contentkey != "authorizedPeriod" and contentkey != "publishedPeriod" %}
                <tr><td>{{ contentkey }}</td><td colspan="2">{{ contentval }}</td></tr>
            {% endif %}
        {% endfor %}
        {% endfor %}
    </table>
<hr>
{% endfor %}

{% elif context.parsed_xml.method == "auth_id" %}

<h3 class="text-xs-center">UUID: {{ context.parsed_xml.entry.uuid }}</h3>
    <br>
    <h5>Links:</h5>
    <ul>
        {% for link in context.parsed_xml.entry.links %}
        <li>{{ link }}</li>
        {% endfor %}
    </ul>
    <br>
    <h6>Published: {{ context.parsed_xml.entry.published }}</h6>
    <h6>Updated: {{ context.parsed_xml.entry.updated }}</h6>
    <br>
    <table class="data_table">
        <tr><td>Authorized Period</td><td>{{ context.parsed_xml.entry.content.authorizedPeriod.duration }}</td><td>{{ context.parsed_xml.entry.content.authorizedPeriod.start }}</td></tr>
        <tr><td>Published Period</td><td>{{ context.parsed_xml.entry.content.publishedPeriod.duration }}</td><td>{{ context.parsed_xml.entry.content.publishedPeriod.start }}</td></tr>
        {% for content in context.parsed_xml.entry.content %}
            {% for contentkey, contentval in content.items %}
            {% if contentkey != "authorizedPeriod" and contentkey != "publishedPeriod" %}
                <tr><td>{{ contentkey }}</td><td colspan="2">{{ contentval }}</td></tr>
            {% endif %}
        {% endfor %}
        {% endfor %}
    </table>

{% elif context.parsed_xml.method == "batch" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<table class="data_table">
    {% for key, value in context.parsed_xml.items %}
    {% if key != "title" and key != "uuid"  and key != "method" and key != "links" %}
    <tr><td>{{ key }}</td><td>{{ value }}</td></tr>
    {% endif %}
    {% endfor %}
</table>

{% elif context.parsed_xml.method == "batch_retail" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<h5>Published: {{ context.parsed_xml.published }}</h5>
<h5>Updated: {{ context.parsed_xml.updated }}</h5>
<hr>

{% for entry in context.parsed_xml.entries %}
    <h5 class="text-xs-center">{{ entry.title }}</h5>
    <h5 class="text-xs-center">UUID: {{ entry.uuid }}</h5>
        <br>
        <h6>Links:</h6>
        <ul>
            {% for link in entry.links %}
            <li>{{ link }}</li>
            {% endfor %}
        </ul>
        <br>
        <h6>Published: {{ entry.published }}</h6>
        <h6>Updated: {{ entry.updated }}</h6>
        <br>
    <table class="data_table text-xs-center">
    {% for content in entry.content %}
        {% for contentkey, contentval in content.items %}
        <tr><th class="text-xs-center" colspan="2">{{ contentkey }}</th></tr>
        {% for subcontent in contentval %}
            {% for key, value in subcontent.items %}
            <tr><td>{{ key }}</td><td>{{ value }}</td></tr>
            {% endfor %}
        {% endfor %}
        {% endfor %}
    {% endfor %}
    </table>
{% endfor %}

{% elif context.parsed_xml.method == "epower_usage" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<h5>Published: {{ context.parsed_xml.published }}</h5>
<h5>Updated: {{ context.parsed_xml.updated }}</h5>
<hr>
{% for entry in context.parsed_xml.entries %}
    <h5 class="text-xs-center">{{ entry.title }}</h5>
    <h5 class="text-xs-center">UUID: {{ entry.uuid }}</h5>
        <br>
        <h6>Links:</h6>
        <ul>
            {% for link in entry.links %}
            <li>{{ link }}</li>
            {% endfor %}
        </ul>
        <br>
        <h6>Published: {{ entry.published }}</h6>
        <h6>Updated: {{ entry.updated }}</h6>
        <br>
    <table class="data_table">
        {% for content in entry.content %}
            {% for contentkey, contentval in content.items %}
            <tr>
                <td>{{ contentkey }}</td>
                {% if contentkey == "billingPeriod" or contentkey == "overallConsumptionLastPeriod" or contentkey == "currentBillingPeriodOverAllConsumption" %}
                <td>
                    <table class="sub_data_table">
                        {% for data in contentval %}
                        <tr>
                            {% for key, value in data.items %}
                            <td>{{ key }}</td><td>{{ value }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </table>
                </td>
                {% else %}
                <td>{{ contentval }}</td>
                {% endif %}
            </tr>
            {% endfor %}
        {% endfor %}
    </table>
{% endfor %}

{% elif context.parsed_xml.method == "epower_usage_summary" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
    {% endfor %}
</ul>
<br>
<h5>Published: {{ context.parsed_xml.published }}</h5>
<h5>Updated: {{ context.parsed_xml.updated }}</h5>
<hr>
<table class="data_table m-a-1">
{% for content in context.parsed_xml.content %}
    {% for contentkey, contentval in content.items %}
    <tr>
        <td>{{ contentkey }}</td>
        {% if contentkey == "billingPeriod" or contentkey == "overallConsumptionLastPeriod" or contentkey == "currentBillingPeriodOverAllConsumption" %}
        <td>
            <table class="sub_data_table">

                {% for subcontent in contentval %}
                    {% for key, value in subcontent.items %}
                    <tr>
                        <td>{{ key }}</td><td>{{ value }}</td>
                    </tr>
                    {% endfor %}
                {% endfor %}
            </table>
        </td>
        {% else %}
        <td>{{ contentval }}</td>
        {% endif %}
    </tr>
    {% endfor %}
{% endfor %}
</table>

{% elif context.parsed_xml.method == "local_time" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<h5>Published: {{ context.parsed_xml.published }}</h5>
<h5>Updated: {{ context.parsed_xml.updated }}</h5>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "entries" and rootkey != "method"  and rootkey != "published" and rootkey != "updated" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    <tr><td colspan="2">
    {% for entry in context.parsed_xml.entries %}
        <hr>
        <h4 class="m-x-1">{{ entry.title }}</h4>
        <h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
        <h6>Links:</h6>
        <ul>
        {% for link in entry.links %}
        <li>{{ link }}</li>
        {% endfor %}
        </ul>
        <table class="sub_data_table m-a-1">
            <tr><td colspan="2"><strong>Local Time Parameters</strong></td></tr>
        {% for entrykey, entryval in entry.items %}
        {% if entrykey != "uuid" and entrykey != "title" and entrykey != "links" %}
            {% if entrykey != "LocalTimeParameters"%}
            <tr><td>{{ entrykey }}</td><td colspan="4">{{ entryval }}</td></tr>
            {% else %}
            <tr><td>{{ entrykey }}</td>
                <td>
                    <table>
            {% for items in entryval %}
                        <tr>
                {% for item in items %}
                <td>{{ item }}</td>
                {% endfor %}
                        </tr>
            {% endfor %}
                    </table>
                </td>
            </tr>
            {% endif %}
        {% endif %}
        {% endfor %}
        </table>
    {% endfor %}
    </td></tr>
</table>

{% elif context.parsed_xml.method == "local_time_id" %}

<h3 class="text-xs-center">{{ context.parsed_xml.entries.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.entries.uuid }}</h5>
<br>
<h5>Published: {{ context.parsed_xml.entries.published }}</h5>
<h5>Updated: {{ context.parsed_xml.entries.updated }}</h5>
<h6>Links:</h6>
<ul>
{% for link in context.parsed_xml.entries.links %}
<li>{{ link }}</li>
{% endfor %}
</ul>
<table class="data_table m-a-1">
    <tr><td colspan="2"><strong>Local Time Parameters</strong></td></tr>
{% for entrykey, entryval in context.parsed_xml.entries.items %}
{% if entrykey != "uuid" and entrykey != "title"  and entrykey != "method" and entrykey != "links" %}
    {% if entrykey != "LocalTimeParameters" %}
    <tr><td>{{ entrykey }}</td><td colspan="4">{{ entryval }}</td></tr>
    {% else %}
    <tr><td>{{ entrykey }}</td>
        <td>
            <table>
    {% for items in entryval %}
                <tr>
        {% for item in items %}
        <td>{{ item }}</td>
        {% endfor %}
                </tr>
    {% endfor %}
            </table>
        </td>
    </tr>
    {% endif %}
{% endif %}
{% endfor %}
</table>

{% elif context.parsed_xml.method == "meter_reading" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "entries" and rootkey != "method" and rootkey != "links" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    <tr><td>
    {% for entry in context.parsed_xml.entries %}
        <h4 class="m-x-1">{{ entry.title }}</h4>
        <h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
        <table class="sub_data_table m-a-1">
        {% for entrykey, entryval in entry.items %}
        {% if entrykey != "uuid" and entrykey != "title" %}
            <tr><td>{{ entrykey }}</td><td>{{ entryval }}</td></tr>
        {% endif %}
        {% endfor %}
        </table>
    {% endfor %}
    </td></tr>
</table>

{% elif context.parsed_xml.method == "meter_reading_id" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "method" and rootkey != "entries" and rootkey != "content" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    {% for entrykey, entryval in context.parsed_xml.entries.items %}
    {% if entrytkey != "title" and entrykey != "uuid" and entrykey != "method" and entrykey != "entries" and entrykey != "content" %}
        <tr><td>entrykey</td><td>entryval</td></tr>
    {% endif %}
    {% endfor %}
</table>

{% elif context.parsed_xml.method == "reading_type" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "entries" and rootkey != "method" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    <tr><td>
    {% for entry in context.parsed_xml.entries %}
        <h4 class="m-x-1">{{ entry.title }}</h4>
        <h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
        <table class="sub_data_table m-a-1">
        {% for entrykey, entryval in entry.items %}
        {% if entry != "uuid" and entry != "title" %}
            <tr><td>{{ entrykey }}</td><td>{{ entryval }}</td></tr>
        {% endif %}
        {% endfor %}
        </table>
    {% endfor %}
    </td></tr>
</table>

{% elif context.parsed_xml.method == "reading_type_by_id" %}

<h3 class="text-xs-center">{{ context.parsed_xml.entry.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.entry.uuid }}</h5>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.entry.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "method" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
</table>

{% elif context.parsed_xml.method == "service_status" %}

<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<br>
<table class="data_table">
    <tr><td>Current Status</td><td>{{ context.parsed_xml.status }}</td></tr>
</table>

{% elif context.parsed_xml.method == "usagepoint" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "entries" and rootkey != "method" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    <tr><td>
    {% for entry in context.parsed_xml.entries %}
        <h4 class="m-x-1">{{ entry.title }}</h4>
        <h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
        <h6>Links</h6>
        <ul>
        {% for link in entry.links %}
            <li>{{ link }}</li>
        {% endfor %}
        </ul>
        <table class="sub_data_table m-a-1">
        {% for entrykey, entryval in entry.items %}
        {% if entrykey != "uuid" and entrykey != "title" and entrykey != "links" and entrykey != "updated" %}
            <tr>
                <td>{{ entrykey }}</td>
                {% for items in entryval %}
                <td>
                    <table class="sub_data_table">
                        {% for items in entryval %}
                        <tr>
                            {% for item in items %}
                            <td>{{ item }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </table>
                </td>
                {% endfor %}
            </tr>
        {% endif %}
        {% endfor %}
        </table>
    {% endfor %}
    </td></tr>
</table>

{% elif context.parsed_xml.method == "usagepoint_by_id" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<h6>Links</h6>
        <ul>
        {% for link in context.parsed_xml.links %}
            <li>{{ link }}</li>
        {% endfor %}
        </ul>
<table class="sub_data_table m-a-1">
    <tr>
        <td><strong>Service Category</strong></td>
        <td>{{ context.parsed_xml.ServiceCategory.0.0 }}: {{ context.parsed_xml.ServiceCategory.0.1 }}</td>
    </tr>
</table>

{% elif context.parsed_xml.method == "usagepoint_sub" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<br>
<table class="data_table">
    {% for rootkey, rootval in context.parsed_xml.items %}
    {% if rootkey != "title" and rootkey != "uuid" and rootkey != "entries" and rootkey != "method" %}
        <tr><td>{{ rootkey }}</td><td>{{ rootval }}</td></tr>
    {% endif %}
    {% endfor %}
    <tr><td>
    {% for entry in context.parsed_xml.entries %}
        <h4 class="m-x-1">{{ entry.title }}</h4>
        <h6 class="m-x-1">UUID: {{ entry.uuid }}</h6>
        <h6>Links</h6>
        <ul>
        {% for link in entry.links %}
            <li>{{ link }}</li>
        {% endfor %}
        </ul>
        <table class="sub_data_table m-a-1">
        {% for entrykey, entryval in entry.items %}
        {% if entrykey != "uuid" and entrykey != "title" and entrykey != "links" %}
            <tr>
                <td>{{ entrykey }}</td>
                <td>
                    <table class="data_table">
                        {% for items in entryval %}
                        <tr>
                            {% for item in items %}
                            <td>{{ item }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </table>
                </td>
            </tr>
        {% endif %}
        {% endfor %}
        </table>
    {% endfor %}
    </td></tr>
</table>

{% elif context.parsed_xml.method == "usagepoint_sub_by_id" %}
<h3 class="text-xs-center">{{ context.parsed_xml.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<h6>Links</h6>
<ul>
{% for link in context.parsed_xml.links %}
    <li>{{ link }}</li>
{% endfor %}
</ul>

<table class="data_table">
    {% for key, value in context.parsed_xml.items %}
    {% if key != "uuid" and key != "title" and key != "method" and key != "links" %}
    <tr>
        <td>{{ key }}</td>
        <td>
            <table class="sub_data_table">
                {% for items in value %}
                <tr>
                    {% for item in items %}
                    <td>{{ item }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </table>
        </td>
    </tr>
    {% endif %}
    {% endfor %}
</table>

{% elif context.parsed_xml.method == "epower_quality_summary" %}

<h3 class="text-xs-center">{{ context.parsed_xml.entries.title }}</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.entries.uuid }}</h5>
<br>
<table class="data_table m-a-1">
{% for entrykey, entryval in context.parsed_xml.entries.items %}
{% if entrykey != "uuid" and entrykey != "title"  and entrykey != "method"%}
    {% if entrykey != "overallConsumptionLastPeriod" and entrykey != "currentBillingPeriodOverAllConsumption" and entrykey != "billingPeriod" %}
    <tr><td>{{ entrykey }}</td><td colspan="4">{{ entryval }}</td></tr>
    {% else %}
    <tr><td>{{ entrykey }}</td>
        <td>
            <table>
    {% for items in entryval %}
                <tr>
        {% for item in items %}
        <td>{{ item }}</td>
        {% endfor %}
                </tr>
    {% endfor %}
            </table>
        </td>
    </tr>
    {% endif %}
{% endif %}
{% endfor %}
</table>

{% elif context.parsed_xml.method == "specific_interval" %}

<h3 class="text-xs-center">Interval Block</h3>
<h5 class="text-xs-center">UUID: {{ context.parsed_xml.uuid }}</h5>
<hr>
<h5>Links:</h5>
<ul>
    {% for link in context.parsed_xml.links %}
        <li>{{ link }}</li>
    {% endfor %}
</ul>
<h6>Published: {{ context.parsed_xml.published }}</h6>
<h6>Updated: {{ context.parsed_xml.updated }}</h6>
<br>

{% for interval in context.parsed_xml.content %}
{% for intkey, intvalue in interval.items %}
<table class="data_table">
    <tr>
        <th colspan="2">{{ intkey }}</th>
    </tr>
    {% for key, value in intvalue.items %}
    <tr>
        <td>{{ key }}</td><td>{{ value }}</td>
    </tr>
    {% endfor %}
</table>
<br>
{% endfor %}
{% endfor %}


{% endif %}